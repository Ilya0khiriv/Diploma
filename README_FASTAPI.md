Вот пример полноценного файла `README.md` для вашего проекта на FastAPI:

```markdown
# Веб-приложение на FastAPI с ИИ и аутентификацией

## Обзор
Это веб-приложение, построенное с использованием FastAPI, предоставляет систему аутентификации пользователей, позволяет пользователям взаимодействовать с ИИ и хранить историю разговоров в базе данных. Пользователи могут зарегистрироваться, войти в систему, задавать вопросы и просматривать предыдущие разговоры с ИИ. Приложение также позволяет пользователям настраивать количество сообщений, отображаемых из их истории общения.

## Основные функции

- **Аутентификация пользователя**:
  - Регистрация и вход пользователей с использованием обработки формы FastAPI.
  - Аутентификация на основе токенов через cookies (`access_token`).
  - Функция выхода, которая очищает сессию.

- **Взаимодействие с ИИ**:
  - Пользователи могут отправлять вопросы в систему ИИ и получать ответы.
  - Разговоры сохраняются и могут быть извлечены по идентификатору пользователя.
  - Пользователи могут контролировать, сколько предыдущих сообщений отображать в своей истории общения.

- **Интерфейс**:
  - HTML-шаблоны для регистрации пользователя, входа в систему и защищенной страницы для взаимодействия с ИИ.
  - Сообщения об ошибках и разговоры отображаются на защищенной странице.
  - Статические файлы (CSS) используются для стилизации страниц.

## Структура файлов

```bash
.
├── auth
│   ├── database.py
│   ├── hashing.py
│   ├── models.py
│   ├── schemas.py
│   └── utils.py
├── main.py
├── requirements.txt
├── static
│   └── css
│       └── styles.css
├── templates
│   ├── base.html
│   ├── login.html
│   ├── protected.html
│   └── register.html
└── users.db
```

### Описание файлов

- **`main.py`**: Основной файл приложения, который:
  - Управляет регистрацией, входом и выходом пользователей.
  - Аутентифицирует пользователей через JWT токены и управляет сессиями.
  - Взаимодействует с системой ИИ через пользовательскую функцию, которая вызывает внешний сервис.
  - Управляет разговорами и сохраняет данные пользователя.

- **`auth/database.py`**: Файл для работы с базой данных, включая создание таблиц и взаимодействие с SQLite.

- **`auth/hashing.py`**: Хеширует пароли пользователей перед сохранением в базе данных и проверяет их при аутентификации.

- **`auth/models.py`**: Описывает модели данных для пользователей и их разговоров с ИИ.

- **`auth/schemas.py`**: Описывает схемы для валидации данных при регистрации и входе.

- **`auth/utils.py`**: Вспомогательные функции для работы с токенами и хешированием паролей.

- **`static/css/styles.css`**: CSS файл для стилизации веб-страниц.

- **`templates/base.html`**: Основной шаблон HTML для оформления страниц.

- **`templates/login.html`**: Шаблон страницы входа пользователя.

- **`templates/register.html`**: Шаблон страницы регистрации пользователя.

- **`templates/protected.html`**: Главная страница для взаимодействия с ИИ.

- **`users.db`**: База данных SQLite, которая хранит информацию о пользователях и их историях общения.

## Маршруты

- **`/register`**: Отображает форму регистрации для новых пользователей.  
  ![Регистрация](https://post-images.org/download/194.113.153.253-desk/zVyeMT1Q1733997362.png)

- **`/login`**: Отображает форму входа для существующих пользователей.  
  ![LOGIN](https://post-images.org/download/194.113.153.253-desk/VHUIdt7h1733997452.png)

- **`/`**: Главная защищенная страница, на которой пользователи могут задавать вопросы ИИ и просматривать предыдущие разговоры.  
  ![PROTECTED](https://post-images.org/download/194.113.153.253-desk/LzmeQXp01733997759.png)

- **`/logout`**: Выходит из системы, удаляя cookie с токеном аутентификации и перенаправляет на страницу входа.

## Вспомогательные функции

- **`register_page`**: Отображает форму регистрации.
- **`register`**: Обрабатывает регистрацию пользователя и сохраняет его в базе данных.
- **`login_page`**: Отображает форму входа.
- **`login`**: Аутентифицирует пользователя, создает JWT токен и устанавливает cookie для сессии.
- **`handle_form`**: Обрабатывает взаимодействие с ИИ, показывает предыдущий разговор и обрабатывает новые вопросы и настройки сообщений.
- **`logout`**: Выходит из системы и удаляет cookie аутентификации.
- **`get_response`**: Отправляет вопрос внешнему сервису ИИ и получает ответ.

## Статические файлы и шаблоны

- Статические файлы (CSS) обслуживаются из директории `static/css` и используются для стилизации шаблонов.
- Шаблоны хранятся в директории `templates`.

## Использование

1. Установите зависимости из `requirements.txt`:
   
2. Запустите приложение:
   - Приложение будет доступно по адресу `http://127.0.0.1:9000`.

3. Откройте браузер:
   - Перейдите на `http://127.0.0.1:9000/register`, чтобы создать новую учетную запись.
   - Войдите в систему на `http://127.0.0.1:9000/login`.

4. После входа перейдите на главную страницу (`/`), чтобы:
   - Задавать вопросы ИИ.
   - Настроить количество отображаемых предыдущих сообщений.

5. Чтобы выйти из системы, перейдите на маршрут `/logout`.
